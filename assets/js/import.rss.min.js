jQuery(document).ready(function(f){if(f("#ssp-external-feed-progress").length>0){var c=confirm("You are about to import an external RSS feed.");if(c==true){f("#ssp-external-feed-progress").progressbar({value:0});a()}else{g()}}function e(h){f("#ssp-external-feed-progress").progressbar({value:h})}function d(j){let ssp_external_feed_status=f("#ssp-external-feed-status");let status_html=ssp_external_feed_status.html();let log_html="";for(var h=0;h<j.length;h++){log_html="<p>Imported"+j[h]+"</p>"+log_html}status_html="<p><strong>Import complete</strong></p>"+log_html+status_html;ssp_external_feed_status.html(status_html)}function a(){let timer=setInterval(b,500);e(10);f.ajax({url:ajaxurl,type:"get",data:{action:"import_external_rss_feed"}}).done(function(h){clearInterval(timer);d(h.episodes);e(100)}).fail(function(h){alert("An error occurred importing the RSS feed, please refresh this page to try again")})}function b(){f.ajax({url:ajaxurl,type:"get",data:{action:"get_external_rss_feed_progress"}}).done(function(h){e(h)})}function g(){}});