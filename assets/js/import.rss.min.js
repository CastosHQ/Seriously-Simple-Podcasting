jQuery(document).ready(function(e){var f=e("#ssp-external-feed-progress");if(f.length>0){var d=confirm("You are about to import an external RSS feed.");if(true===d){c(0);g()}else{i()}}function b(k){var j="blue";if("blue"===k){j="green"}f.removeClass(j).addClass(k)}function c(k,l){if(0===k){f.progressbar({value:0});return}if(""===l){l="blue"}var j=f.progressbar("value");if(j<100){f.progressbar({value:k});b(l)}}function a(n){e(".ssp-ssp-external-feed-message").html("Import completed successfully !").css("color","green");var j=e("#ssp-external-feed-status");var l=j.html();var m="";for(var k=0;k<n.length;k++){m="<p>Imported "+n[k]+"</p>"+m}l=m+l;j.html(l)}function g(){var j=setInterval(h,250);e.ajax({url:ajaxurl,type:"get",data:{action:"import_external_rss_feed"}}).done(function(k){clearInterval(j);a(k.episodes);c(100,"green")}).fail(function(k){alert("An error occurred importing the RSS feed, please refresh this page to try again")})}function h(){e.ajax({url:ajaxurl,type:"get",data:{action:"get_external_rss_feed_progress"}}).done(function(j){c(j,"blue")})}function i(){e.ajax({url:ajaxurl,type:"get",data:{action:"reset_external_rss_feed_progress"}}).done(function(){e(".ssp-ssp-external-feed-message").html("Import cancelled !").css("color","red");e("#ssp-external-feed-status").html("")})}});