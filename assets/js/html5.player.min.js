document.addEventListener("DOMContentLoaded",function(){(function(a){let sspUpdateDuration=[];a("div.ssp-player-large").each(function(){const b=a(this);const d=b.data("player-instance-number");const e=b.data("player-waveform-progress-colour");const c=b.data("source-file");sspUpdateDuration[d]="";window.ssp_player[d]=WaveSurfer.create({container:"#waveform_"+d,waveColor:"#444",progressColor:e,barWidth:3,barHeight:15,height:8,hideScrollbar:true,skipLength:30,backend:"MediaElement"});window.ssp_player[d].track=c;window.ssp_player[d].backend.peaks=[0.0218,0.0183,0.0165,0.0198,0.2137,0.2888,0.2313,0.15,0.2542,0.2538,0.2358,0.1195,0.1591,0.2599,0.2742,0.1447,0.2328,0.1878,0.1988,0.1645,0.1218,0.2005,0.2828,0.2051,0.1664,0.1181,0.1621,0.2966,0.189,0.246,0.2445,0.1621,0.1618,0.189,0.2354,0.1561,0.1638,0.2799,0.0923,0.1659,0.1675,0.1268,0.0984,0.0997,0.1248,0.1495,0.1431,0.1236,0.1755,0.1183,0.1349,0.1018,0.1109,0.1833,0.1813,0.1422,0.0961,0.1191,0.0791,0.0631,0.0315,0.0157,0.0166,0.0108];window.ssp_player[d].drawBuffer();window.ssp_player[d].loaded=false;window.ssp_player[d].on("ready",function(f){if(!window.ssp_player[d].loaded){window.ssp_player[d].loaded=true;window.ssp_player[d].play()}a("#ssp_player_id_"+d+" #sspTotalDuration").text(window.ssp_player[d].getDuration().toString().toFormattedDuration());a("#ssp_player_id_"+d+" #sspPlayedDuration").text(window.ssp_player[d].getCurrentTime().toString().toFormattedDuration())});window.ssp_player[d].on("play",function(f){if(!window.ssp_player[d].loaded){window.ssp_player[d].load(window.ssp_player[d].track,window.ssp_player[d].backend.peaks)}a("#ssp_player_id_"+d+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-pause_icon");a("#ssp_player_id_"+d+" #sspPlayedDuration").text(window.ssp_player[d].getCurrentTime().toString().toFormattedDuration());sspUpdateDuration[d]=setInterval(function(){a("#ssp_player_id_<?php echo $large_player_instance_number; ?> #sspPlayedDuration").text(window.ssp_player[d].getCurrentTime().toString().toFormattedDuration())},100)});window.ssp_player[d].on("pause",function(f){a("#ssp_player_id_"+d+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon");clearInterval(sspUpdateDuration[d])});window.ssp_player[d].on("finish",function(f){a("#ssp_player_id_"+d+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon")});a("#ssp_player_id_"+d+" #ssp-play-pause").on("click",function(f){window.ssp_player[d].playPause()});a("#ssp_player_id_"+d+" #ssp-back-thirty").on("click",function(f){window.ssp_player[d].skipBackward()});a("#ssp_player_id_"+d+" #ssp_playback_speed"+d).on("click",function(f){switch(a(f.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate")){case"1":a(f.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1.5");a(f.currentTarget).parent().find("[data-ssp-playback-rate]").text("1.5X");window.ssp_player[d].setPlaybackRate(1.5);break;case"1.5":a(f.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","2");a(f.currentTarget).parent().find("[data-ssp-playback-rate]").text("2X");window.ssp_player[d].setPlaybackRate(2);break;case"2":a(f.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1");a(f.currentTarget).parent().find("[data-ssp-playback-rate]").text("1X");window.ssp_player[d].setPlaybackRate(1);default:break}})})}(jQuery))});