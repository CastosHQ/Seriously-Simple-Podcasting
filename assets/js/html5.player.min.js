document.addEventListener("DOMContentLoaded",function(){(function(b){window.ssp_player=[];var a=[];b("div.ssp-player-large").each(function(){var c=b(this);var e=c.data("player-instance-number");var f=c.data("player-waveform-progress-colour");var d=c.data("source-file");a[e]="";window.ssp_player[e]=WaveSurfer.create({container:"#waveform"+e,waveColor:"#444",progressColor:f,barWidth:3,barHeight:15,height:8,hideScrollbar:true,skipLength:30,backend:"MediaElement"});window.ssp_player[e].track=d;window.ssp_player[e].backend.peaks=[0.0218,0.0183,0.0165,0.0198,0.2137,0.2888,0.2313,0.15,0.2542,0.2538,0.2358,0.1195,0.1591,0.2599,0.2742,0.1447,0.2328,0.1878,0.1988,0.1645,0.1218,0.2005,0.2828,0.2051,0.1664,0.1181,0.1621,0.2966,0.189,0.246,0.2445,0.1621,0.1618,0.189,0.2354,0.1561,0.1638,0.2799,0.0923,0.1659,0.1675,0.1268,0.0984,0.0997,0.1248,0.1495,0.1431,0.1236,0.1755,0.1183,0.1349,0.1018,0.1109,0.1833,0.1813,0.1422,0.0961,0.1191,0.0791,0.0631,0.0315,0.0157,0.0166,0.0108];window.ssp_player[e].drawBuffer();window.ssp_player[e].loaded=false;window.ssp_player[e].on("ready",function(g){if(!window.ssp_player[e].loaded){window.ssp_player[e].loaded=true;window.ssp_player[e].play()}b("#ssp_player_id_"+e+" #sspTotalDuration").text(window.ssp_player[e].getDuration().toString().toFormattedDuration());b("#ssp_player_id_"+e+" #sspPlayedDuration").text(window.ssp_player[e].getCurrentTime().toString().toFormattedDuration())});window.ssp_player[e].on("play",function(g){if(!window.ssp_player[e].loaded){window.ssp_player[e].load(window.ssp_player[e].track,window.ssp_player[e].backend.peaks)}b("#ssp_player_id_"+e+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-pause_icon");b("#ssp_player_id_"+e+" #sspPlayedDuration").text(window.ssp_player[e].getCurrentTime().toString().toFormattedDuration());a[e]=setInterval(function(){b("#ssp_player_id_"+e+" #sspPlayedDuration").text(window.ssp_player[e].getCurrentTime().toString().toFormattedDuration())},100)});window.ssp_player[e].on("pause",function(g){b("#ssp_player_id_"+e+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon");clearInterval(a[e])});window.ssp_player[e].on("finish",function(g){b("#ssp_player_id_"+e+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon")});b("#ssp_player_id_"+e+" #ssp-play-pause").on("click",function(g){window.ssp_player[e].playPause()});b("#ssp_player_id_"+e+" #ssp-back-thirty").on("click",function(g){window.ssp_player[e].skipBackward()});b("#ssp_player_id_"+e+" #ssp_playback_speed"+e).on("click",function(g){switch(b(g.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate")){case"1":b(g.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1.5");b(g.currentTarget).parent().find("[data-ssp-playback-rate]").text("1.5X");window.ssp_player[e].setPlaybackRate(1.5);break;case"1.5":b(g.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","2");b(g.currentTarget).parent().find("[data-ssp-playback-rate]").text("2X");window.ssp_player[e].setPlaybackRate(2);break;case"2":b(g.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1");b(g.currentTarget).parent().find("[data-ssp-playback-rate]").text("1X");window.ssp_player[e].setPlaybackRate(1);default:break}})})}(jQuery))});