(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(a){var b=a.ajax.bind(a);a.ajax=function(e,d){if(typeof e==="object"){d=e;e=undefined}d=d||{chunking:false};var f=d.xhr?d.xhr():a.ajaxSettings.xhr();var c=d.chunking||a.ajaxSettings.chunking;d.xhr=function(){if(typeof d.uploadProgress==="function"){if(!f.upload){return}f.upload.onprogress=null;f.upload.addEventListener("progress",function(h){d.uploadProgress.call(this,h)},false)}if(typeof d.progress==="function"){var g=0;f.addEventListener("progress",function(i){var j=[i],h="";if(this.readyState===XMLHttpRequest.LOADING&&c){h=this.responseText.substr(g);g=this.responseText.length;j.push(h)}d.progress.apply(this,j)},false)}return f};return b(e,d)}}));