jQuery(document).ready(function(e){if(e("#ssp-external-feed-progress").length>0){d(0,"blue");a()}function f(g){console.log(g);let removeClass="blue";if("blue"===g){removeClass="green"}e("#ssp-external-feed-progress").removeClass(removeClass).addClass(g)}function d(g,h){if(""===h){h="blue"}e("#ssp-external-feed-progress").progressbar({value:g});f(h)}function c(h){e(".ssp-ssp-external-feed-message").html("Import completed successfully !").css("color","green");let ssp_external_feed_status=e("#ssp-external-feed-status");let status_html=ssp_external_feed_status.html();let log_html="";for(var g=0;g<h.length;g++){log_html="<p>Imported "+h[g]+"</p>"+log_html}status_html=log_html+status_html;ssp_external_feed_status.html(status_html)}function a(){let timer=setInterval(b,250);e.ajax({url:ajaxurl,type:"get",data:{action:"import_external_rss_feed"}}).done(function(g){clearInterval(timer);c(g.episodes);d(100,"green")}).fail(function(g){console.log(g);alert("An error occurred importing the RSS feed, please refresh this page to try again")})}function b(){e.ajax({url:ajaxurl,type:"get",data:{action:"get_external_rss_feed_progress"}}).done(function(g){d(g,"blue")})}});