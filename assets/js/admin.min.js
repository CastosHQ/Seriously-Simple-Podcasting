jQuery(document).ready(function(c){var b,a;jQuery.fn.ssp_upload_media_file=function(f,e){var d=f.attr("id");var g=d.replace("_button","");var h=d.replace("_button","_preview");if(b){b.open();return}b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:false});console.log(b);b.on("select",function(){var i=b.state().get("selection").first().toJSON();console.log(i);jQuery("#"+g).val(i.url);if(e){jQuery("#"+h).attr("src",i.url)}});b.open()};jQuery("#series_upload_image_button").click(function(h){h.preventDefault();var d=wp.media.editor.send.attachment;var f=c(this);var e=f.attr("id");var i=e.replace("_upload","").replace("_button","_preview");var g=e.replace("_upload","").replace("_button","_id");if(a){a.open();return}a=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},library:{type:["image"]},multiple:false});a.on("select",function(){var j=a.state().get("selection").first().toJSON();c("#"+i).attr("src",j.url);c("#"+g).val(j.id)});a.open()});jQuery("#series_remove_image_button").click(function(g){g.preventDefault();var e=c(this);var d=e.attr("id");var h=d.replace("_remove","").replace("_button","_preview");var f=d.replace("_remove","").replace("_button","_id");if(confirm("Are you sure?")){var i=c("#"+h).attr("data-src");c("#"+h).attr("src",i);c("#"+f).val("")}});jQuery("#upload_audio_file_button").click(function(d){d.preventDefault();jQuery.fn.ssp_upload_media_file(jQuery(this),false)});jQuery("#episode_embed_code").click(function(){jQuery(this).select()});jQuery(".episode_embed_code_size_option").change(function(){var f=jQuery("#episode_embed_code_width").val();var d=jQuery("#episode_embed_code_height").val();var e=jQuery("#post_ID").val();jQuery.post(ajaxurl,{action:"update_episode_embed_code",width:f,height:d,post_id:e},function(g){if(g){jQuery("#episode_embed_code").val(g);jQuery("#episode_embed_code").select()}})});jQuery(".ssp-datepicker").datepicker({changeMonth:true,changeYear:true,showAnim:"slideDown",dateFormat:"d MM, yy",altField:"#date_recorded",altFormat:"dd-mm-yy",onClose:function(h,g){var i=c.datepicker.parseDate("d MM, yy",h);var e=c.datepicker.formatDate("dd-mm-yy",i);var f=c(this).attr("id").replace("_display","");c("#"+f).val(e)}});jQuery(".ssp-datepicker").change(function(){var e=jQuery(this).val();if(!e){var f=jQuery(this).attr("id");var d=f.replace("_display","");jQuery("#"+d).val("")}});jQuery("#feed-series-toggle").click(function(d){if(jQuery(this).hasClass("series-open")){jQuery("#feed-series-list").slideUp("fast");jQuery(this).removeClass("series-open");jQuery(this).addClass("series-closed")}else{if(jQuery(this).hasClass("series-closed")){jQuery("#feed-series-list").slideDown("fast");jQuery(this).removeClass("series-closed");jQuery(this).addClass("series-open")}}});jQuery("#ss_podcasting_data_image_button").click(function(){jQuery.fn.ssp_upload_media_file(jQuery(this),true)});jQuery("#ss_podcasting_data_image_delete").click(function(){jQuery("#ss_podcasting_data_image").val("");jQuery("#ss_podcasting_data_image_preview").remove();return false})});