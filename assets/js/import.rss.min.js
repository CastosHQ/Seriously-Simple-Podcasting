jQuery(document).ready(function(e){let progressbar=e("#ssp-external-feed-progress");if(progressbar.length>0){let response=confirm("You are about to import an external RSS feed.");if(true===response){d(0);a()}else{f()}}function g(h){let remove_class="blue";if("blue"===h){remove_class="green"}progressbar.removeClass(remove_class).addClass(h)}function d(h,i){if(0===h){progressbar.progressbar({value:0});return}if(""===i){i="blue"}let current_value=progressbar.progressbar("value");if(current_value<100){progressbar.progressbar({value:h});g(i)}}function c(j){e(".ssp-ssp-external-feed-message").html("Import completed successfully !").css("color","green");let ssp_external_feed_status=e("#ssp-external-feed-status");let status_html=ssp_external_feed_status.html();let log_html="";for(var h=0;h<j.length;h++){log_html="<p>Imported "+j[h]+"</p>"+log_html}status_html=log_html+status_html;ssp_external_feed_status.html(status_html)}function a(){let timer=setInterval(b,250);e.ajax({url:ajaxurl,type:"get",data:{action:"import_external_rss_feed"}}).done(function(h){clearInterval(timer);c(h.episodes);d(100,"green")}).fail(function(h){alert("An error occurred importing the RSS feed, please refresh this page to try again")})}function b(){e.ajax({url:ajaxurl,type:"get",data:{action:"get_external_rss_feed_progress"}}).done(function(h){d(h,"blue")})}function f(){e.ajax({url:ajaxurl,type:"get",data:{action:"reset_external_rss_feed_progress"}}).done(function(){e(".ssp-ssp-external-feed-message").html("Import cancelled !").css("color","red");e("#ssp-external-feed-status").html("")})}});