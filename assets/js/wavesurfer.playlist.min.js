"use strict";WaveSurfer.Playlist={init:function(c){this.params=c;var b=this.wavesurfer=c.wavesurfer;if(!this.wavesurfer){throw new Error("No WaveSurfer instance provided")}this.playlistFileGET=this.params.playlistFile||null;this.playlistType=this.params.playlistType||"m3u";this.playlistData=[];if(this.playlistFileGET!=null){var a=b.util.ajax({url:this.playlistFileGET,responseType:"text"});var d=this;a.on("success",function(f,g){d.loadPlaylist(f);d.wavesurfer.fireEvent("playlist-ready")});a.on("error",function(f){throw new Error("Error reading the playlist fileXHR error: "+f.target.statusText)})}else{throw new Error("No playlist file provided")}},getPlaylist:function(){return this.playlistData},loadPlaylist:function(c){var d=[];if(this.playlistType=="m3u"||this.playlistType=="audio/mpegurl"){d=c.replace(/^.*#.*$|#EXTM3U|#EXTINF:/mg,"").split("\n")}else{throw new Error("No valid playlist file provided")}var b=[];for(var a=0;a<d.length;a++){if(d[a]){if(d[a].indexOf(".mp3")!==-1||d[a].indexOf(".wav")!==-1){b.push(d[a].toString())}}}this.playlistData=b;return}};WaveSurfer.util.extend(WaveSurfer.Playlist,WaveSurfer.Observer);